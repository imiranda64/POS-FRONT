"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[976],{69976:(be,Z,l)=>{l.r(Z),l.d(Z,{SaleModule:()=>fe});var b=l(69808),g=l(68555),I=l(16496),A=l(49597),$=l(48535),S=l(28222),_=l(11612);const G=[{label:"Comprobante",value:1,placeholder:"Buscar por comprobante",validation:[S.R.alphanumeric],validation_desc:"S\xf3lo se permite letras y/o n\xfameros en esta b\xfasqueda.",icon:"icName"}],Q=[{label:"C\xf3digo",value:1,placeholder:"Buscar por C\xf3digo",validation:[S.R.alphanumeric],validation_desc:"S\xf3lo se permite letras y/o n\xfameros en esta b\xfasqueda.",icon:"icName"},{label:"Nombre",value:2,placeholder:"Buscar por Nombre",validation:[S.R.defaultName],validation_desc:"S\xf3lo se permite letras en esta b\xfasqueda.",icon:"icName"}],w={icSale:_.j.prototype.getIcon("icSales"),tableColumns:[{label:"COMPROBANTE",cssLabel:["font-bold","text-sm"],property:"voucherDescription",cssProperty:["font-semibold","text-sm","text-left"],type:"badge",sticky:!0,sort:!0,sortProperty:"voucherDescription",visible:!0,download:!0},{label:"N\xb0 COMPROBANTE",cssLabel:["font-bold","text-sm"],property:"voucherNumber",cssProperty:["font-semibold","text-sm","text-left"],type:"textUppercase",sticky:!0,sort:!0,sortProperty:"voucherNumber",visible:!0,download:!0},{label:"CLIENTE",cssLabel:["font-bold","text-sm"],property:"client",cssProperty:["font-semibold","text-sm","text-left"],type:"textUppercase",sticky:!0,sort:!0,sortProperty:"client",visible:!0,download:!0},{label:"ALMAC\xc9N",cssLabel:["font-bold","text-sm"],property:"warehouse",cssProperty:["font-semibold","text-sm","text-left"],type:"text",sticky:!0,sort:!0,sortProperty:"warehouse",visible:!0,download:!0},{label:"MONTO TOTAL",cssLabel:["font-bold","text-sm"],property:"totalAmount",cssProperty:["font-semibold","text-sm","text-left"],type:"currency",sticky:!0,sort:!0,sortProperty:"totalAmount",visible:!0,download:!0},{label:"F. DE VENTA",cssLabel:["font-bold","text-sm"],property:"dateOfSale",cssProperty:["font-semibold","text-sm","text-left"],type:"datetime",sticky:!0,sort:!0,sortProperty:"dateOfSale",visible:!0,download:!0},{label:"",cssLabel:[],property:"icView",cssProperty:[],type:"icon",action:"viewDetail",sticky:!1,sort:!1,visible:!0,download:!1},{label:"",cssLabel:[],property:"icInvoice",cssProperty:[],type:"icon",action:"exportInvoice",sticky:!1,sort:!1,visible:!0,download:!1},{label:"",cssLabel:[],property:"icCancel",cssProperty:[],type:"icon",action:"cancel",sticky:!1,sort:!1,visible:!0,download:!1}],tableColumnsProducts:[{label:"",cssLabel:["font-bold","text-xxs"],property:"image",cssProperty:["font-semibold","text-xs","text-left"],type:"image",sticky:!1,sort:!0,sortProperty:"image",visible:!0,download:!0},{label:"C\xd3DIGO",cssLabel:["font-bold","text-xxs"],property:"code",cssProperty:["font-semibold","text-xs","text-left"],type:"textUppercase",sticky:!1,sort:!0,sortProperty:"code",visible:!0,download:!0},{label:"NOMBRE",cssLabel:["font-bold","text-xxs"],property:"name",cssProperty:["font-semibold","text-xs","text-left"],subProperty:"category",cssSubProperty:["text-xxs","text-am-gray","uppercase","text-left"],type:"text",sticky:!1,sort:!0,sortProperty:"name",visible:!0,download:!0},{label:"CANTIDAD",cssLabel:["font-bold","text-xxs"],property:"quantity",cssProperty:["font-semibold","text-xs","text-left"],type:"quantitySale",sticky:!1,sort:!0,visible:!0},{label:"PRECIO U.",cssLabel:["font-bold","text-xxs"],property:"unitSalePrice",cssProperty:["font-semibold","text-xs","text-left"],type:"unitSalePrice",sticky:!1,sort:!0,visible:!0},{label:"STOCK ACTUAL",cssLabel:["font-bold","text-xxs"],property:"currentStock",cssProperty:["font-semibold","text-xs","text-left"],type:"number",sticky:!1,sort:!0,visible:!0},{label:"TOTAL",cssLabel:["font-bold","text-xxs"],property:"totalAmount",cssProperty:["font-semibold","text-xs","text-left"],type:"totalAmount",sticky:!1,sort:!0,visible:!0},{label:"",cssLabel:[],property:"icAdd",cssProperty:[],type:"icon",action:"addDetail",sticky:!1,sort:!1,visible:!0,download:!1}],searchOptions:G,searchOptionsProducts:Q,initialSort:"Id",initialSortDir:"desc",filters:{numFilter:0,textFilter:"",startDate:"",endDate:"",refresh:!1},resetFilters:{numFilter:0,textFilter:"",startDate:"",endDate:"",refresh:!1},getInputs:"",filename:"listado-de-ventas"};var e=l(5e3),z=l(31421),u=l(62376),x=l(24850),p=l(92340),d=l(18905),y=l(40520),U=l(40704);let F=(()=>{class r{constructor(t,o){this._http=t,this._alertService=o}GetAll(t,o,a,i,m){return this._http.get(`${p.N.api}${u.F.LIST_SALES}?records=${t}&sort=${o}&order=${a}&numPage=${i+1}${m}`).pipe((0,x.U)(h=>this.transformSaleData(h)))}transformSaleData(t){const o={BOLETA:"text-am-main-blue-dark bg-am-main-blue-light",FACTURA:"text-am-new-green-dark bg-am-new-green-light"};return t.data.forEach(a=>{a.badgeColor=o[a.voucherDescription]||"text-gray bg-gray-light",a.icView=(0,d.q7)("icVisibility","Ver detalle de venta",!0),a.icInvoice="FACTURA"===a.voucherDescription?(0,d.q7)("icInvoice","Exportar factura",!0):(0,d.q7)("icTicket","Exportar boleta",!0),a.icCancel=(0,d.q7)("icCancel","Anular venta",!0)}),t}saleRegister(t){console.log("entro");const o=`${p.N.api}${u.F.SALE_REGISTER}`;return console.log("requestUrl",o),this._http.post(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.eN),e.LFG(U.c))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var N=l(2638),L=l(47423),P=l(48259),T=l(26724),D=l(3343),O=l(41248),R=l(24161),q=l(93495);let H=(()=>{class r{constructor(t,o,a){this._saleService=o,this._router=a,t.set("Ventas")}ngOnInit(){this.component=w}search(t){this.component.filters.numFilter=t.searchValue,this.component.filters.textFilter=t.searchData,this.formatGetInputs()}searchDateRange(t){this.component.filters.startDate=t.startDate,this.component.filters.endDate=t.endDate,this.formatGetInputs()}resetFilters(){this.component.filters=Object.assign({},this.component.resetFilters),this.formatGetInputs()}formatGetInputs(){let t="";null!=this.component.filters.textFilter&&(t+=`&numFilter=${this.component.filters.numFilter}&textFilter=${this.component.filters.textFilter}`),""!=this.component.filters.startDate&&""!=this.component.filters.endDate&&(t+=`&startDate=${this.component.filters.startDate}`,t+=`&endDate=${this.component.filters.endDate}`),this.component.filters.refresh&&(t+=`&refresh=${Math.random()}`,this.component.filters.refresh=!1),this.component.getInputs=t}rowClick(t){return!1}setGetInputsSale(t){this.component.filters.refresh=t,this.formatGetInputs()}get getDownloadUrl(){return"Sale?Download=True"}newSale(){this._router.navigate(["/proceso-ventas/crear"])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(z.O),e.Y36(F),e.Y36(g.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["vex-sale-list"]],decls:21,vars:15,consts:[[1,"w-full","h-full","flex","flex-col"],[1,"px-gutter","pt-1","pb-20","bg-primary","flex-none"],[1,"flex","items-center","justify-between"],[1,"headline","text-primary-contrast","m-0","flex","items-center","w-full","max-w-xxxl","mr-6"],[1,"hidden","sm:block","mt-4",3,"icon"],[1,"ml-4","mt-4","block"],[1,"flex","space-x-10","justify-end"],[1,"flex","space-y-0"],[3,"start","end","rangeDate"],[3,"buttonClick"],[1,"hidden","md:flex","space-x-0"],[3,"searchOptions","currentValue","search"],[3,"url","getInputs","filename"],["mat-button","",1,"bg-accent","text-accent-contrast",3,"click"],[1,"-mt-18","pt-0","overflow-hidden","flex"],[1,"bg-transparent","flex-auto","flex"],[1,"p-gutter","pt-0","flex-auto","flex","items-start"],[1,"card","h-full","overflow-hidden","flex-auto"],[3,"service","columns","sortBy","sortDir","getInputs","rowClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._UZ(4,"ic-icon",4),e.TgZ(5,"span",5),e._uU(6,"Gesti\xf3n de Ventas"),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"app-filter-date-range-ymd",8),e.NdJ("rangeDate",function(i){return o.searchDateRange(i)}),e.qZA(),e.TgZ(10,"app-button-reset-filters",9),e.NdJ("buttonClick",function(){return o.resetFilters()}),e.qZA()(),e.TgZ(11,"div",10)(12,"app-search-box-multiple",11),e.NdJ("search",function(i){return o.search(i)}),e.qZA(),e._UZ(13,"app-export-excel",12),e.qZA(),e.TgZ(14,"button",13),e.NdJ("click",function(){return o.newSale()}),e._uU(15," Nueva Venta "),e.qZA()()(),e.TgZ(16,"div",14)(17,"mat-drawer-container",15)(18,"mat-drawer-content",16)(19,"div",17)(20,"app-list-table",18),e.NdJ("rowClick",function(i){return o.rowClick(i)}),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("@scaleIn",void 0)("icon",o.component.icSale),e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(4),e.Q6J("start",o.component.filters.startDate)("end",o.component.filters.endDate),e.xp6(3),e.Q6J("searchOptions",o.component.searchOptions)("currentValue",o.component.filters.textFilter),e.xp6(1),e.Q6J("url",o.getDownloadUrl)("getInputs",o.component.getInputs)("filename",o.component.filename),e.xp6(7),e.Q6J("service",o._saleService)("columns",o.component.tableColumns)("sortBy",o.component.initialSort)("sortDir",o.component.initialSortDir)("getInputs",o.component.getInputs))},dependencies:[N.kh,N.LW,L.lW,P.ar,T.z,D.J,O.$,R.X,q.I],data:{animation:[$.KF,A.a,I.G]}}),r})();var s=l(93075);let W=(()=>{class r{constructor(t){this._http=t}listSelectVoucherDocumentType(){return this._http.get(`${p.N.api}${u.F.LIST_SELECT_VOUCHER_DOCUMENT_TYPE}`).pipe((0,x.U)(o=>o.data))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),K=(()=>{class r{constructor(t){this._http=t}listSelectClients(){return this._http.get(`${p.N.api}${u.F.LIST_SELECT_CLIENTS}`).pipe((0,x.U)(o=>o.data))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var X=l(85819);let ee=(()=>{class r{constructor(t){this._http=t}GetAll(t,o,a,i,m){return this._http.get(`${p.N.api}${u.F.PRODUCT_STOCK_WAREHOUSE_ID}?records=${t}&sort=${o}&order=${a}&numPage=${i+1}${m}`).pipe((0,x.U)(h=>this.transformProductsData(h)))}transformProductsData(t){return t.data.forEach(o=>{o.icAdd=(0,d.q7)("icAdd","Agregar producto al detalle",!0),o.quantity=0,o.totalAmount=0}),t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var te=l(25245),C=l(67322),oe=l(77531),re=l(87238),J=l(12232);function le(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Campo N\xb0 Comprobante es requerido. "),e.qZA())}function ae(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",11),e._uU(2," Productos "),e.qZA(),e.TgZ(3,"app-search-box-multiple",36),e.NdJ("search",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.search(a))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(2),e.Q6J("searchOptions",t.componentSaleDetail.searchOptionsProducts)("currentValue",t.componentSaleDetail.filters.textFilter)}}function ne(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",37)(1,"app-list-table",38),e.NdJ("rowClick",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.rowClick(a))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("service",t._saleDetailService)("columns",t.componentSaleDetail.tableColumnsProducts)("numRecords",t.numRecordsProducts)("sortBy",t.componentSaleDetail.initialSort)("sortDir",t.componentSaleDetail.initialSortDir)("getInputs",t.componentSaleDetail.getInputs)}}function ie(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td",39)(1,"div",43)(2,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw();return e.KtG(i.removeFromCart(a))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("icIcon",t.icRemove)}}function se(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td",39),e._UZ(2,"img",40),e.qZA(),e.TgZ(3,"td",41),e._uU(4),e.qZA(),e.TgZ(5,"td",41),e._uU(6),e.qZA(),e.TgZ(7,"td",41),e._uU(8),e.qZA(),e.TgZ(9,"td",41),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td",41),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.YNc(15,ie,3,1,"td",42),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(2),e.s9C("alt",t.name),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.quantity," "),e.xp6(2),e.hij(" ",e.Dn7(11,8,t.unitSalePrice,"","")," "),e.xp6(3),e.hij(" ",e.Dn7(14,12,t.totalAmount,"","")," "),e.xp6(2),e.Q6J("ngIf",!o.viewDetailRead)}}function ce(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saleSave())}),e._uU(1," GUARDAR "),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.form.invalid||0==t.cartDetails.length)}}let k=(()=>{class r{constructor(t,o,a,i,m,f,h,he){this._route=t,this._fb=o,this._voucherDocumentTypeSelectService=a,this._clientSelectService=i,this._warehouseSelectService=m,this._saleDetailService=f,this._alert=h,this._saleService=he,this.viewDetailRead=!1,this.numRecordsProducts=3,this.icRemove=_.j.prototype.getIcon("icDelete"),this.cartDetails=[],this.subtotal=0,this.igv=0,this.total=0,this.addDetail=E=>{if(E.totalAmount<=0)return;const v=Object.assign({},E),c=this.cartDetails.find(ve=>ve.code===v.code);(c?this.validateStock(c,v.quantity):this.validateStock(v,null))?this._alert.warn("Stock agotado","La cantidad seleccionada supera el stock disponible"):(c?(c.quantity+=v.quantity,c.totalAmount=c.quantity+c.unitSalePrice):this.cartDetails.push(v),this.calculateSubtotal(),this.calculateIgv(),this.calculateTotal())},this.componentSaleDetail=w}initForm(){this.form=this._fb.group({voucherDocumentTypeId:["",s.kI.required],voucherNumber:["",s.kI.required],clientId:["",s.kI.required],warehouseId:["",s.kI.required],observation:[""]})}ngOnInit(){this.initForm(),this.listSelectVoucherDocumentTypes(),this.listSelectClients(),this.listSelectWarehouses()}back(){this._route.navigate(["proceso-ventas"])}listSelectVoucherDocumentTypes(){this._voucherDocumentTypeSelectService.listSelectVoucherDocumentType().subscribe(t=>{this.voucherDocumentTypeSelect=t})}listSelectClients(){this._clientSelectService.listSelectClients().subscribe(t=>{this.clientSelect=t})}listSelectWarehouses(){this._warehouseSelectService.listSelectWarehouses().subscribe(t=>{this.warehouseSelect=t})}search(t){this.componentSaleDetail.filters.numFilter=t.searchValue,this.componentSaleDetail.filters.textFilter=t.searchData,this.formatGetInputs()}formatGetInputs(){let t="";null!=this.componentSaleDetail.filters.textFilter&&(t+=`&numFilter=${this.componentSaleDetail.filters.numFilter}&textFilter=${this.componentSaleDetail.filters.textFilter}`),t+=`&Id=${this.selectedWarehouseId}`,this.componentSaleDetail.getInputs=t}onItemSelected(t){this.selectedWarehouseId=t,this.formatGetInputs()}rowClick(t){return"addDetail"===t.action&&this.addDetail(t.row),!1}validateStock(t,o){return t.quantity+o>t.currentStock}calculateSubtotal(){this.subtotal=this.cartDetails.reduce((t,o)=>t+o.quantity*o.unitSalePrice,0)}calculateIgv(){this.igv=.1*this.subtotal}calculateTotal(){this.total=this.subtotal+this.igv}removeFromCart(t){const o=this.cartDetails.indexOf(t);-1!=o&&this.cartDetails.splice(o,1),this.calculateSubtotal(),this.calculateIgv(),this.calculateTotal()}saleSave(){if(this.form.invalid)return Object.values(this.form.controls).forEach(o=>{o.markAllAsTouched()});const t={voucherNumber:this.form.value.voucherNumber,observation:this.form.value.observation,voucherDocumentTypeId:this.form.value.voucherDocumentTypeId,warehouseId:this.form.value.warehouseId,clientId:this.form.value.clientId,subTotal:this.form.value.subtotal,igv:this.igv,totalAmount:this.total,saleDetails:this.cartDetails.map(o=>({productId:o.productId,quantity:o.quantity,unitSalePrice:o.unitSalePrice,total:o.totalAmount}))};console.log("sale",t),this._saleService.saleRegister(t).subscribe(o=>{o.isSuccess?(this._alert.success("Exelente",o.message),this._route.navigate(["proceso-ventas"])):this._alert.warn("Atencion",o.message)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(W),e.Y36(K),e.Y36(X.E),e.Y36(ee),e.Y36(U.c),e.Y36(F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["vex-sale-create"]],decls:85,vars:40,consts:[[1,"w-full","h-full","flex","flex-col"],[1,"px-gutter","pt-6","pb-20","bg-primary","flex-none"],[1,"flex","items-center","justify-between"],[1,"headline","text-primary-contrast","m-0","flex","items-center","w-full","max-w-xxxl","mr-6"],[3,"icIcon"],[1,"ml-4","block"],["mat-button","",1,"text-am-base-background",3,"click"],[1,"-mt-14","p-6","pt-0","overflow-hidden","flex","flex-col","md:flex-row","gap-2"],[1,"w-full","md:w-6/12",3,"formGroup"],[1,"bg-white","rounded-lg","p-4","shadow"],[1,"flex","items-center"],[1,"text-lg","font-medium","text-am-main-blue-dark","ml-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["label","Tipo de comprobante",3,"control","required","listOptions","readonly"],["appearance","outline",1,"w-full"],["matInput","","formControlName","voucherNumber",3,"readonly"],[4,"ngIf"],["label","Clientes",3,"control","required","listOptions","readonly"],["label","Almacenes",3,"control","required","listOptions","readonly","itemSelected"],["matInput","","placeholder","Ingrese una Observaci\xf3n...","formControlName","observation",3,"readonly"],["class","flex justify-between",4,"ngIf"],["class","card h-full overflow-hidden flex-auto",4,"ngIf"],[1,"w-full","md:w-6/12"],[1,"w-full","overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"px-6","py-3","bg-am-main-blue-light","rounded-l-lg","text-left","text-xss","leading-4","font-bold","text-am-main-blue-dark","tracking-wider"],[1,"px-6","py-3","bg-am-main-blue-light","text-left","text-xss","leading-4","font-bold","text-am-main-blue-dark","tracking-wider"],[1,"px-6","py-3","bg-am-main-blue-light","rounded-r-lg"],[1,"bg-white"],[4,"ngFor","ngForOf"],["colspan","4"],[1,"font-semibold","px-6","py-3","text-right"],[1,"font-semibold","px-6","py-3"],[1,"flex","justify-end"],["class","bg-accent text-accent-contrast","mat-button","",3,"disabled","click",4,"ngIf"],[1,"flex","justify-between"],[3,"searchOptions","currentValue","search"],[1,"card","h-full","overflow-hidden","flex-auto"],[1,"w-full","border","rounded-lg",3,"service","columns","numRecords","sortBy","sortDir","getInputs","rowClick"],[1,"px-6","py-4"],[1,"avatar","h-15","w-15","my-2",3,"src","alt"],[1,"px-6","py-4","font-semibold","text-xs","text-left"],["class","px-6 py-4",4,"ngIf"],[1,"flex","justify-center","items-center","cursor-pointer","p-1.5","w-fit","rounded-full","text-am-new-red-dark","bg-am-new-red-light","border-am-new-red-dark","mb-1"],["matTooltip","Quitar producto del detalle",3,"icIcon","click"],["mat-button","",1,"bg-accent","text-accent-contrast",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._UZ(4,"ic-icon",4),e.TgZ(5,"span",5),e._uU(6,"Nueva Venta de Productos"),e.qZA()(),e.TgZ(7,"button",6),e.NdJ("click",function(){return o.back()}),e._uU(8," REGRESAR "),e.qZA()()(),e.TgZ(9,"div",7)(10,"form",8)(11,"div",9)(12,"div",10)(13,"div",11),e._uU(14," Nueva Venta "),e.qZA()(),e._UZ(15,"br"),e.TgZ(16,"div",12),e._UZ(17,"app-select-autocomplete",13),e.TgZ(18,"mat-form-field",14)(19,"mat-label"),e._uU(20,"N\xb0 Comprobante"),e.qZA(),e._UZ(21,"input",15),e.YNc(22,le,2,0,"mat-error",16),e.qZA()(),e.TgZ(23,"div",12),e._UZ(24,"app-select-autocomplete",17),e.TgZ(25,"app-select-autocomplete",18),e.NdJ("itemSelected",function(i){return o.onItemSelected(i)}),e.qZA()(),e.TgZ(26,"mat-form-field",14)(27,"mat-label"),e._uU(28,"Observaci\xf3n"),e.qZA(),e._UZ(29,"textarea",19),e.qZA(),e.YNc(30,ae,4,3,"div",20),e._UZ(31,"br"),e.YNc(32,ne,2,6,"div",21),e.qZA()(),e.TgZ(33,"div",22)(34,"div",9)(35,"div",10)(36,"div",11),e._uU(37," Orden Venta "),e.qZA()(),e._UZ(38,"br"),e.TgZ(39,"div",23)(40,"table",24)(41,"thead")(42,"tr"),e._UZ(43,"th",25),e.TgZ(44,"th",26),e._uU(45," C\xd3DIGO "),e.qZA(),e.TgZ(46,"th",26),e._uU(47," NOMBRE "),e.qZA(),e.TgZ(48,"th",26),e._uU(49," CANTIDAD "),e.qZA(),e.TgZ(50,"th",26),e._uU(51," PRECIO U. "),e.qZA(),e.TgZ(52,"th",26),e._uU(53," TOTAL "),e.qZA(),e._UZ(54,"th",27),e.qZA()(),e.TgZ(55,"tbody",28),e.YNc(56,se,16,16,"tr",29),e.qZA(),e._UZ(57,"br")(58,"br"),e.TgZ(59,"tfoot")(60,"tr"),e._UZ(61,"td",30),e.TgZ(62,"td",31),e._uU(63,"Subtotal:"),e.qZA(),e.TgZ(64,"td",32),e._uU(65),e.ALo(66,"currency"),e.qZA()(),e.TgZ(67,"tr"),e._UZ(68,"td",30),e.TgZ(69,"td",31),e._uU(70,"IGV:"),e.qZA(),e.TgZ(71,"td",32),e._uU(72),e.ALo(73,"currency"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"td",30),e.TgZ(76,"td",31),e._uU(77,"Monto Total:"),e.qZA(),e.TgZ(78,"td",32),e._uU(79),e.ALo(80,"currency"),e.qZA()()()(),e._UZ(81,"hr")(82,"br"),e.TgZ(83,"div",33),e.YNc(84,ce,2,1,"button",34),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("@scaleIn",void 0)("icIcon",o.componentSaleDetail.icSale),e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("@fadeInRight",void 0),e.xp6(4),e.Q6J("control",o.form.get("voucherDocumentTypeId"))("required",!0)("listOptions",o.voucherDocumentTypeSelect)("readonly",o.viewDetailRead),e.xp6(4),e.Q6J("readonly",o.viewDetailRead),e.xp6(1),e.Q6J("ngIf",o.form.get("voucherNumber").hasError("required")),e.xp6(2),e.Q6J("control",o.form.get("clientId"))("required",!0)("listOptions",o.clientSelect)("readonly",o.viewDetailRead),e.xp6(1),e.Q6J("control",o.form.get("warehouseId"))("required",!0)("listOptions",o.warehouseSelect)("readonly",o.viewDetailRead),e.xp6(4),e.Q6J("readonly",o.viewDetailRead),e.xp6(1),e.Q6J("ngIf",!o.viewDetailRead),e.xp6(2),e.Q6J("ngIf",!o.viewDetailRead),e.xp6(4),e.Q6J("@fadeInRight",void 0),e.xp6(20),e.Q6J("ngForOf",o.cartDetails),e.xp6(9),e.hij(" ",e.Dn7(66,28,o.subtotal,"","")," "),e.xp6(7),e.hij(" ",e.Dn7(73,32,o.igv,"","")," "),e.xp6(7),e.hij(" ",e.Dn7(80,36,o.total,"","")," "),e.xp6(5),e.Q6J("ngIf",!o.viewDetailRead))},dependencies:[b.sg,b.O5,te.Hw,L.lW,C.TO,C.KE,C.hX,oe.Nt,re.gM,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,P.ar,T.z,D.J,J.z,b.H9],data:{animation:[A.a,I.G]}}),r})();const ue=[{path:"",component:H,data:{scrollDisabled:!0,toolbarShadowEnabled:!0}},{path:"crear",component:k},{path:"crear/:saleId",component:k}];let pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.Bz.forChild(ue),g.Bz]}),r})();var de=l(72628),me=l(57638);let fe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[b.ez,pe,de.m,T.z,me.M,D.J,O.$,R.X,q.I,J.z]}),r})()}}]);