{"version":3,"file":"src_app_pages_sale_sale_module_ts.js","mappings":"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","sources":["./src/app/pages/sale/components/sale-create/sale-create.component.ts","./src/app/pages/sale/components/sale-create/sale-create.component.html","./src/app/pages/sale/components/sale-list/sale-list-config.ts","./src/app/pages/sale/components/sale-list/sale-list.component.ts","./src/app/pages/sale/components/sale-list/sale-list.component.html","./src/app/pages/sale/sale-routing.module.ts","./src/app/pages/sale/sale.module.ts","./src/app/pages/sale/services/sale-detail.service.ts","./src/app/pages/sale/services/sale.service.ts","./src/app/shared/services/client-select.service.ts","./src/app/shared/services/voucher-document-type-select.service.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { componentSettings } from \"../sale-list/sale-list-config\";\r\nimport { Router } from \"@angular/router\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { SelectAutoComplete } from \"@shared/models/select-autocomplete.interface\";\r\nimport { VoucherDocumentTypeSelectService } from \"@shared/services/voucher-document-type-select.service\";\r\nimport { scaleIn400ms } from \"src/@vex/animations/scale-in.animation\";\r\nimport { fadeInRight400ms } from \"src/@vex/animations/fade-in-right.animation\";\r\nimport { ClientSelectService } from \"@shared/services/client-select.service\";\r\nimport { WarehouseSelectService } from \"@shared/services/warehouse-select.service\";\r\nimport { FiltersBox } from \"@shared/models/search-options.interface\";\r\nimport { SaleDetailService } from \"../../services/sale-detail.service\";\r\nimport { RowClick } from \"@shared/models/row-click.interface\";\r\nimport { ProductDetailsResponse } from \"../../models/sale-response.interface\";\r\nimport { IconsService } from \"@shared/services/icons.service\";\r\nimport { AlertService } from \"@shared/services/alert.service\";\r\nimport { SaleRequest } from \"../../models/sale-request.interface\";\r\nimport { SaleService } from \"../../services/sale.service\";\r\n\r\n@Component({\r\n  selector: \"vex-sale-create\",\r\n  templateUrl: \"./sale-create.component.html\",\r\n  styleUrls: [\"./sale-create.component.scss\"],\r\n  animations: [scaleIn400ms, fadeInRight400ms],\r\n})\r\nexport class SaleCreateComponent implements OnInit {\r\n  componentSaleDetail;\r\n  viewDetailRead: boolean = false;\r\n  form: FormGroup;\r\n  numRecordsProducts: number = 3;\r\n\r\n  voucherDocumentTypeSelect: SelectAutoComplete[];\r\n  clientSelect: SelectAutoComplete[];\r\n  warehouseSelect: SelectAutoComplete[];\r\n  selectedWarehouseId: number;\r\n\r\n  icRemove = IconsService.prototype.getIcon(\"icDelete\");\r\n\r\n  cartDetails: any | ProductDetailsResponse[] = [];\r\n\r\n  subtotal: number = 0;\r\n  igv: number = 0;\r\n  total: number = 0;\r\n\r\n\r\n  initForm(): void {\r\n    this.form = this._fb.group({\r\n      voucherDocumentTypeId: [\"\", Validators.required],\r\n      voucherNumber: [\"\", Validators.required],\r\n      clientId: [\"\", Validators.required],\r\n      warehouseId: [\"\", Validators.required],\r\n      observation: [\"\"],\r\n    });\r\n  }\r\n\r\n  constructor(private _route: Router,\r\n    private _fb: FormBuilder,\r\n    private _voucherDocumentTypeSelectService: VoucherDocumentTypeSelectService,\r\n    private _clientSelectService: ClientSelectService,\r\n    private _warehouseSelectService: WarehouseSelectService,\r\n    public _saleDetailService: SaleDetailService,\r\n    private _alert: AlertService,\r\n    private _saleService: SaleService\r\n  ) {\r\n    this.componentSaleDetail = componentSettings;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    this.listSelectVoucherDocumentTypes();\r\n    this.listSelectClients();\r\n    this.listSelectWarehouses();\r\n  }\r\n\r\n  back() {\r\n    this._route.navigate([\"proceso-ventas\"]);\r\n  }\r\n\r\n  listSelectVoucherDocumentTypes(): void {\r\n    this._voucherDocumentTypeSelectService\r\n      .listSelectVoucherDocumentType()\r\n      .subscribe((resp) => {\r\n        this.voucherDocumentTypeSelect = resp;\r\n      })\r\n  }\r\n\r\n  listSelectClients(): void {\r\n    this._clientSelectService\r\n      .listSelectClients()\r\n      .subscribe((resp) => {\r\n        this.clientSelect = resp;\r\n      })\r\n  }\r\n\r\n  listSelectWarehouses(): void {\r\n    this._warehouseSelectService\r\n      .listSelectWarehouses()\r\n      .subscribe((resp) => {\r\n        this.warehouseSelect = resp;\r\n      })\r\n  }\r\n\r\n  search(data: FiltersBox) {\r\n    this.componentSaleDetail.filters.numFilter = data.searchValue;\r\n    this.componentSaleDetail.filters.textFilter = data.searchData;\r\n    this.formatGetInputs();\r\n  }\r\n\r\n  formatGetInputs() {\r\n    let str = \"\";\r\n\r\n    if (this.componentSaleDetail.filters.textFilter != null) {\r\n      str += `&numFilter=${this.componentSaleDetail.filters.numFilter}&textFilter=${this.componentSaleDetail.filters.textFilter}`;\r\n    }\r\n\r\n    str += `&Id=${this.selectedWarehouseId}`;\r\n\r\n    this.componentSaleDetail.getInputs = str;\r\n  }\r\n\r\n  onItemSelected(id: number): void {\r\n    this.selectedWarehouseId = id;\r\n    this.formatGetInputs();\r\n  }\r\n\r\n  rowClick(rowClick: RowClick<ProductDetailsResponse>) {\r\n    let action = rowClick.action;\r\n    let products = rowClick.row;\r\n\r\n    switch (action) {\r\n      case \"addDetail\":\r\n        this.addDetail(products);\r\n        break;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  addDetail = (products: ProductDetailsResponse) => {\r\n    if (products.totalAmount <= 0) {\r\n      return;\r\n    }\r\n\r\n    const productCopy = { ...products };\r\n\r\n    const existingProduct = this.cartDetails.find(\r\n      (item) => item.code === productCopy.code\r\n    )\r\n\r\n    const validateResult = existingProduct ? this.validateStock(existingProduct,\r\n      productCopy.quantity) : this.validateStock(productCopy, null);\r\n\r\n    if (validateResult) {\r\n      this._alert.warn(\"Stock agotado\", \"La cantidad seleccionada supera el stock disponible\");\r\n      return;\r\n    }\r\n\r\n    if (existingProduct) {\r\n      existingProduct.quantity += productCopy.quantity;\r\n      existingProduct.totalAmount = existingProduct.quantity + existingProduct.unitSalePrice;\r\n    } else {\r\n      this.cartDetails.push(productCopy);\r\n    }\r\n\r\n    this.calculateSubtotal();\r\n    this.calculateIgv();\r\n    this.calculateTotal();\r\n  };\r\n\r\n  validateStock(existingProduct: ProductDetailsResponse, quantityToAdd: number): boolean {\r\n    if (existingProduct.quantity + quantityToAdd > existingProduct.currentStock) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  calculateSubtotal() {\r\n    this.subtotal = this.cartDetails.reduce(\r\n      (acc, product) => acc + product.quantity * product.unitSalePrice, 0\r\n    )\r\n  }\r\n\r\n  calculateIgv() {\r\n    this.igv = this.subtotal * 0.10;\r\n  }\r\n\r\n  calculateTotal() {\r\n    this.total = this.subtotal + this.igv;\r\n  }\r\n\r\n  removeFromCart(product: ProductDetailsResponse) {\r\n    const index = this.cartDetails.indexOf(product);\r\n\r\n    if (index != -1) {\r\n      this.cartDetails.splice(index, 1);\r\n    }\r\n\r\n    this.calculateSubtotal();\r\n    this.calculateIgv();\r\n    this.calculateTotal();\r\n  }\r\n\r\n  saleSave(): void {\r\n    if (this.form.invalid) {\r\n      return Object.values(this.form.controls).forEach(controls => {\r\n        controls.markAllAsTouched();\r\n      })\r\n    }\r\n\r\n    const sale: SaleRequest = {\r\n      voucherNumber: this.form.value.voucherNumber,\r\n      observation: this.form.value.observation,\r\n      voucherDocumentTypeId: this.form.value.voucherDocumentTypeId,\r\n      warehouseId: this.form.value.warehouseId,\r\n      clientId: this.form.value.clientId,\r\n      subTotal: this.form.value.subtotal,\r\n      igv: this.igv,\r\n      totalAmount: this.total,\r\n      saleDetails: this.cartDetails.map((product:\r\n        ProductDetailsResponse) => {\r\n        return {\r\n          productId: product.productId,\r\n          quantity: product.quantity,\r\n          unitSalePrice: product.unitSalePrice,\r\n          total: product.totalAmount\r\n        };\r\n      }),\r\n    };\r\n\r\n    console.log(\"sale\", sale);\r\n\r\n    this._saleService.saleRegister(sale).subscribe((resp) => {\r\n      if (resp.isSuccess) {\r\n        this._alert.success(\"Exelente\", resp.message);\r\n        this._route.navigate([\"proceso-ventas\"]);\r\n      } else {\r\n        this._alert.warn(\"Atencion\", resp.message);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"w-full h-full flex flex-col\">\r\n  <div class=\"px-gutter pt-6 pb-20 bg-primary flex-none\">\r\n    <div class=\"flex items-center justify-between\">\r\n      <h2\r\n        class=\"headline text-primary-contrast m-0 flex items-center w-full max-w-xxxl mr-6\"\r\n      >\r\n        <ic-icon @scaleIn [icIcon]=\"componentSaleDetail.icSale\"></ic-icon>\r\n        <span @fadeInRight class=\"ml-4 block\">Nueva Venta de Productos</span>\r\n      </h2>\r\n      <button mat-button (click)=\"back()\" class=\"text-am-base-background\">\r\n        REGRESAR\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"-mt-14 p-6 pt-0 overflow-hidden flex flex-col md:flex-row gap-2\">\r\n    <form class=\"w-full md:w-6/12\" [formGroup]=\"form\">\r\n      <div class=\"bg-white rounded-lg p-4 shadow\">\r\n        <div class=\"flex items-center\">\r\n          <div\r\n            @fadeInRight\r\n            class=\"text-lg font-medium text-am-main-blue-dark ml-2\"\r\n          >\r\n            Nueva Venta\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n          <app-select-autocomplete\r\n            label=\"Tipo de comprobante\"\r\n            [control]=\"form.get('voucherDocumentTypeId')\"\r\n            [required]=\"true\"\r\n            [listOptions]=\"voucherDocumentTypeSelect\"\r\n            [readonly]=\"viewDetailRead\"\r\n          ></app-select-autocomplete>\r\n\r\n          <mat-form-field appearance=\"outline\" class=\"w-full\">\r\n            <mat-label>N° Comprobante</mat-label>\r\n            <input\r\n              matInput\r\n              formControlName=\"voucherNumber\"\r\n              [readonly]=\"viewDetailRead\"\r\n            />\r\n            <mat-error *ngIf=\"form.get('voucherNumber').hasError('required')\">\r\n              Campo N° Comprobante es requerido.\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n          <app-select-autocomplete\r\n            label=\"Clientes\"\r\n            [control]=\"form.get('clientId')\"\r\n            [required]=\"true\"\r\n            [listOptions]=\"clientSelect\"\r\n            [readonly]=\"viewDetailRead\"\r\n          ></app-select-autocomplete>\r\n\r\n          <app-select-autocomplete\r\n            label=\"Almacenes\"\r\n            [control]=\"form.get('warehouseId')\"\r\n            [required]=\"true\"\r\n            [listOptions]=\"warehouseSelect\"\r\n            [readonly]=\"viewDetailRead\"\r\n            (itemSelected)=\"onItemSelected($event)\"\r\n          ></app-select-autocomplete>\r\n        </div>\r\n        <mat-form-field appearance=\"outline\" class=\"w-full\">\r\n            <mat-label>Observación</mat-label>\r\n            <textarea \r\n                matInput \r\n                placeholder=\"Ingrese una Observación...\" \r\n                formControlName=\"observation\"\r\n                [readonly]=\"viewDetailRead\"></textarea>\r\n        </mat-form-field>\r\n        <div class=\"flex justify-between\" *ngIf=\"!viewDetailRead\">\r\n            <div @fadeInRight class=\"text-lg font-medium text-am-main-blue-dark ml-2\">\r\n                Productos\r\n            </div>\r\n            <app-search-box-multiple\r\n                [searchOptions]=\"componentSaleDetail.searchOptionsProducts\"\r\n                (search)=\"search($event)\"\r\n                [currentValue]=\"componentSaleDetail.filters.textFilter\"\r\n            ></app-search-box-multiple>\r\n        </div>\r\n        <br />\r\n        <div\r\n          class=\"card h-full overflow-hidden flex-auto\"\r\n          *ngIf=\"!viewDetailRead\"\r\n        >\r\n          <app-list-table\r\n            class=\"w-full border rounded-lg\"\r\n            (rowClick)=\"rowClick($event)\"\r\n            [service]=\"_saleDetailService\"\r\n            [columns]=\"componentSaleDetail.tableColumnsProducts\"\r\n            [numRecords]=\"numRecordsProducts\"\r\n            [sortBy]=\"componentSaleDetail.initialSort\"\r\n            [sortDir]=\"componentSaleDetail.initialSortDir\"\r\n            [getInputs]=\"componentSaleDetail.getInputs\"\r\n          ></app-list-table>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <div class=\"w-full md:w-6/12\">\r\n      <div class=\"bg-white rounded-lg p-4 shadow\">\r\n        <div class=\"flex items-center\">\r\n          <div\r\n            @fadeInRight\r\n            class=\"text-lg font-medium text-am-main-blue-dark ml-2\"\r\n          >\r\n            Orden Venta\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"w-full overflow-x-auto\">\r\n          <table class=\"min-w-full divide-y divide-gray-200\">\r\n            <thead>\r\n              <tr>\r\n                <th\r\n                  class=\"px-6 py-3 bg-am-main-blue-light rounded-l-lg text-left text-xss leading-4 font-bold text-am-main-blue-dark tracking-wider\"\r\n                ></th>\r\n                <th\r\n                  class=\"px-6 py-3 bg-am-main-blue-light text-left text-xss leading-4 font-bold text-am-main-blue-dark tracking-wider\"\r\n                >\r\n                  CÓDIGO\r\n                </th>\r\n                <th\r\n                  class=\"px-6 py-3 bg-am-main-blue-light text-left text-xss leading-4 font-bold text-am-main-blue-dark tracking-wider\"\r\n                >\r\n                  NOMBRE\r\n                </th>\r\n                <th\r\n                  class=\"px-6 py-3 bg-am-main-blue-light text-left text-xss leading-4 font-bold text-am-main-blue-dark tracking-wider\"\r\n                >\r\n                  CANTIDAD\r\n                </th>\r\n                <th\r\n                  class=\"px-6 py-3 bg-am-main-blue-light text-left text-xss leading-4 font-bold text-am-main-blue-dark tracking-wider\"\r\n                >\r\n                  PRECIO U.\r\n                </th>\r\n                <th\r\n                  class=\"px-6 py-3 bg-am-main-blue-light text-left text-xss leading-4 font-bold text-am-main-blue-dark tracking-wider\"\r\n                >\r\n                  TOTAL\r\n                </th>\r\n                <th class=\"px-6 py-3 bg-am-main-blue-light rounded-r-lg\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"bg-white\">\r\n              <tr *ngFor=\"let product of cartDetails\">\r\n                <td class=\"px-6 py-4\">\r\n                  <img\r\n                    [src]=\"product.image\"\r\n                    alt=\"{{ product.name }}\"\r\n                    class=\"avatar h-15 w-15 my-2\"\r\n                  />\r\n                </td>\r\n                <td class=\"px-6 py-4 font-semibold text-xs text-left\">\r\n                  {{ product.code }}\r\n                </td>\r\n                <td class=\"px-6 py-4 font-semibold text-xs text-left\">\r\n                  {{ product.name }}\r\n                </td>\r\n                <td class=\"px-6 py-4 font-semibold text-xs text-left\">\r\n                  {{ product.quantity }}\r\n                </td>\r\n                <td class=\"px-6 py-4 font-semibold text-xs text-left\">\r\n                  {{ product.unitSalePrice | currency : \"\" : \"\" }}\r\n                </td>\r\n                <td class=\"px-6 py-4 font-semibold text-xs text-left\">\r\n                  {{ product.totalAmount | currency : \"\" : \"\" }}\r\n                </td>\r\n                <td class=\"px-6 py-4\" *ngIf=\"!viewDetailRead\">\r\n                  <div\r\n                    class=\"flex justify-center items-center cursor-pointer p-1.5 w-fit rounded-full text-am-new-red-dark bg-am-new-red-light border-am-new-red-dark mb-1\"\r\n                  >\r\n                    <mat-icon\r\n                      [icIcon]=\"icRemove\"\r\n                      matTooltip=\"Quitar producto del detalle\"\r\n                      (click)=\"removeFromCart(product)\"\r\n                    ></mat-icon>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n            <br />\r\n            <br />\r\n            <tfoot>\r\n              <tr>\r\n                <td colspan=\"4\"></td>\r\n                <td class=\"font-semibold px-6 py-3 text-right\">Subtotal:</td>\r\n                <td class=\"font-semibold px-6 py-3\">\r\n                  {{ subtotal | currency : \"\" : \"\" }}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colspan=\"4\"></td>\r\n                <td class=\"font-semibold px-6 py-3 text-right\">IGV:</td>\r\n                <td class=\"font-semibold px-6 py-3\">\r\n                  {{ igv | currency : \"\" : \"\" }}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colspan=\"4\"></td>\r\n                <td class=\"font-semibold px-6 py-3 text-right\">Monto Total:</td>\r\n                <td class=\"font-semibold px-6 py-3\">\r\n                  {{ total | currency : \"\" : \"\" }}\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n          <hr />\r\n          <br />\r\n          <div class=\"flex justify-end\">\r\n            <button\r\n              class=\"bg-accent text-accent-contrast\"\r\n              mat-button\r\n              [disabled]=\"form.invalid || cartDetails.length == 0\"\r\n              (click)=\"saleSave()\"\r\n              *ngIf=\"!viewDetailRead\"\r\n            >\r\n              GUARDAR\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import { TableColumns } from \"@shared/models/list-table.interface\";\r\nimport { SearchOptions } from \"@shared/models/search-options.interface\";\r\nimport { GenericValidators } from \"@shared/validators/generic-validators\";\r\nimport { ProductDetailsResponse, SaleResponse } from \"../../models/sale-response.interface\";\r\nimport { IconsService } from \"@shared/services/icons.service\";\r\n\r\nconst searchOptions: SearchOptions[] = [\r\n  {\r\n    label: \"Comprobante\",\r\n    value: 1,\r\n    placeholder: \"Buscar por comprobante\",\r\n    validation: [GenericValidators.alphanumeric],\r\n    validation_desc: \"Sólo se permite letras y/o números en esta búsqueda.\",\r\n    icon: \"icName\",\r\n  },\r\n];\r\n\r\nconst searchOptionsProducts: SearchOptions[] = [\r\n  {\r\n    label: \"Código\",\r\n    value: 1,\r\n    placeholder: \"Buscar por Código\",\r\n    validation: [GenericValidators.alphanumeric],\r\n    validation_desc: \"Sólo se permite letras y/o números en esta búsqueda.\",\r\n    icon: \"icName\",\r\n  },\r\n  {\r\n    label: \"Nombre\",\r\n    value: 2,\r\n    placeholder: \"Buscar por Nombre\",\r\n    validation: [GenericValidators.defaultName],\r\n    validation_desc: \"Sólo se permite letras en esta búsqueda.\",\r\n    icon: \"icName\",\r\n  },\r\n];\r\n\r\nconst tableColumns: TableColumns<SaleResponse>[] = [\r\n  {\r\n    label: \"COMPROBANTE\",\r\n    cssLabel: [\"font-bold\", \"text-sm\"],\r\n    property: \"voucherDescription\",\r\n    cssProperty: [\"font-semibold\", \"text-sm\", \"text-left\"],\r\n    type: \"badge\",\r\n    sticky: true,\r\n    sort: true,\r\n    sortProperty: \"voucherDescription\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"N° COMPROBANTE\",\r\n    cssLabel: [\"font-bold\", \"text-sm\"],\r\n    property: \"voucherNumber\",\r\n    cssProperty: [\"font-semibold\", \"text-sm\", \"text-left\"],\r\n    type: \"textUppercase\",\r\n    sticky: true,\r\n    sort: true,\r\n    sortProperty: \"voucherNumber\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"CLIENTE\",\r\n    cssLabel: [\"font-bold\", \"text-sm\"],\r\n    property: \"client\",\r\n    cssProperty: [\"font-semibold\", \"text-sm\", \"text-left\"],\r\n    type: \"textUppercase\",\r\n    sticky: true,\r\n    sort: true,\r\n    sortProperty: \"client\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"ALMACÉN\",\r\n    cssLabel: [\"font-bold\", \"text-sm\"],\r\n    property: \"warehouse\",\r\n    cssProperty: [\"font-semibold\", \"text-sm\", \"text-left\"],\r\n    type: \"text\",\r\n    sticky: true,\r\n    sort: true,\r\n    sortProperty: \"warehouse\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"MONTO TOTAL\",\r\n    cssLabel: [\"font-bold\", \"text-sm\"],\r\n    property: \"totalAmount\",\r\n    cssProperty: [\"font-semibold\", \"text-sm\", \"text-left\"],\r\n    type: \"currency\",\r\n    sticky: true,\r\n    sort: true,\r\n    sortProperty: \"totalAmount\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"F. DE VENTA\",\r\n    cssLabel: [\"font-bold\", \"text-sm\"],\r\n    property: \"dateOfSale\",\r\n    cssProperty: [\"font-semibold\", \"text-sm\", \"text-left\"],\r\n    type: \"datetime\",\r\n    sticky: true,\r\n    sort: true,\r\n    sortProperty: \"dateOfSale\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"\",\r\n    cssLabel: [],\r\n    property: \"icView\",\r\n    cssProperty: [],\r\n    type: \"icon\",\r\n    action: \"viewDetail\",\r\n    sticky: false,\r\n    sort: false,\r\n    visible: true,\r\n    download: false,\r\n  },\r\n  {\r\n    label: \"\",\r\n    cssLabel: [],\r\n    property: \"icInvoice\",\r\n    cssProperty: [],\r\n    type: \"icon\",\r\n    action: \"exportInvoice\",\r\n    sticky: false,\r\n    sort: false,\r\n    visible: true,\r\n    download: false,\r\n  },\r\n  {\r\n    label: \"\",\r\n    cssLabel: [],\r\n    property: \"icCancel\",\r\n    cssProperty: [],\r\n    type: \"icon\",\r\n    action: \"cancel\",\r\n    sticky: false,\r\n    sort: false,\r\n    visible: true,\r\n    download: false,\r\n  },\r\n];\r\n\r\nconst tableColumnsProducts: TableColumns<ProductDetailsResponse>[] = [\r\n  {\r\n    label: \"\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"image\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    type: \"image\",\r\n    sticky: false,\r\n    sort: true,\r\n    sortProperty: \"image\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"CÓDIGO\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"code\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    type: \"textUppercase\",\r\n    sticky: false,\r\n    sort: true,\r\n    sortProperty: \"code\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"NOMBRE\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"name\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    subProperty: \"category\",\r\n    cssSubProperty: [\"text-xxs\", \"text-am-gray\", \"uppercase\", \"text-left\"],\r\n    type: \"text\",\r\n    sticky: false,\r\n    sort: true,\r\n    sortProperty: \"name\",\r\n    visible: true,\r\n    download: true,\r\n  },\r\n  {\r\n    label: \"CANTIDAD\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"quantity\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    type: \"quantitySale\",\r\n    sticky: false,\r\n    sort: true,\r\n    visible: true,\r\n  },\r\n  {\r\n    label: \"PRECIO U.\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"unitSalePrice\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    type: \"unitSalePrice\",\r\n    sticky: false,\r\n    sort: true,\r\n    visible: true,\r\n  },\r\n  {\r\n    label: \"STOCK ACTUAL\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"currentStock\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    type: \"number\",\r\n    sticky: false,\r\n    sort: true,\r\n    visible: true,\r\n  },\r\n  {\r\n    label: \"TOTAL\",\r\n    cssLabel: [\"font-bold\", \"text-xxs\"],\r\n    property: \"totalAmount\",\r\n    cssProperty: [\"font-semibold\", \"text-xs\", \"text-left\"],\r\n    type: \"totalAmount\",\r\n    sticky: false,\r\n    sort: true,\r\n    visible: true,\r\n  },\r\n  {\r\n    label: \"\",\r\n    cssLabel: [],\r\n    property: \"icAdd\",\r\n    cssProperty: [],\r\n    type: \"icon\",\r\n    action: \"addDetail\",\r\n    sticky: false,\r\n    sort: false,\r\n    visible: true,\r\n    download: false,\r\n  },\r\n];\r\n\r\nconst filters = {\r\n  numFilter: 0,\r\n  textFilter: \"\",\r\n  startDate: \"\",\r\n  endDate: \"\",\r\n  refresh: false,\r\n};\r\n\r\nconst resetFilters = {\r\n  numFilter: 0,\r\n  textFilter: \"\",\r\n  startDate: \"\",\r\n  endDate: \"\",\r\n  refresh: false,\r\n};\r\n\r\nconst getInputs: string = \"\";\r\n\r\nexport const componentSettings = {\r\n  icSale: IconsService.prototype.getIcon(\"icSales\"),\r\n  tableColumns,\r\n  tableColumnsProducts,\r\n  searchOptions,\r\n  searchOptionsProducts,\r\n  initialSort: \"Id\",\r\n  initialSortDir: \"desc\",\r\n  filters,\r\n  resetFilters,\r\n  getInputs,\r\n  filename: \"listado-de-ventas\",\r\n};","import { Component, OnInit } from \"@angular/core\";\r\nimport { CustomTitleService } from \"@shared/services/custom-title.service\";\r\nimport { fadeInRight400ms } from \"src/@vex/animations/fade-in-right.animation\";\r\nimport { scaleIn400ms } from \"src/@vex/animations/scale-in.animation\";\r\nimport { stagger40ms } from \"src/@vex/animations/stagger.animation\";\r\nimport { SaleService } from \"../../services/sale.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { componentSettings } from \"./sale-list-config\";\r\nimport { DateRange, FiltersBox } from \"@shared/models/search-options.interface\";\r\nimport { RowClick } from \"@shared/models/row-click.interface\";\r\nimport { SaleResponse } from \"../../models/sale-response.interface\";\r\n\r\n@Component({\r\n  selector: \"vex-sale-list\",\r\n  templateUrl: \"./sale-list.component.html\",\r\n  styleUrls: [\"./sale-list.component.scss\"],\r\n  animations: [stagger40ms, scaleIn400ms, fadeInRight400ms],\r\n})\r\nexport class SaleListComponent implements OnInit {\r\n  component;\r\n  constructor(\r\n    customTitle: CustomTitleService,\r\n    public _saleService: SaleService,\r\n    private _router: Router\r\n  ) {\r\n    customTitle.set(\"Ventas\");\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.component = componentSettings;\r\n  }\r\n\r\n  search(data: FiltersBox) {\r\n    this.component.filters.numFilter = data.searchValue;\r\n    this.component.filters.textFilter = data.searchData;\r\n    this.formatGetInputs();\r\n  }\r\n\r\n  searchDateRange(date: DateRange) {\r\n    this.component.filters.startDate = date.startDate;\r\n    this.component.filters.endDate = date.endDate;\r\n    this.formatGetInputs();\r\n  }\r\n\r\n  resetFilters() {\r\n    this.component.filters = { ...this.component.resetFilters };\r\n    this.formatGetInputs();\r\n  }\r\n\r\n  formatGetInputs() {\r\n    let str = \"\";\r\n\r\n    if (this.component.filters.textFilter != null) {\r\n      str += `&numFilter=${this.component.filters.numFilter}&textFilter=${this.component.filters.textFilter}`;\r\n    }\r\n\r\n    if (\r\n      this.component.filters.startDate != \"\" &&\r\n      this.component.filters.endDate != \"\"\r\n    ) {\r\n      str += `&startDate=${this.component.filters.startDate}`;\r\n      str += `&endDate=${this.component.filters.endDate}`;\r\n    }\r\n\r\n    if (this.component.filters.refresh) {\r\n      let random = Math.random();\r\n      str += `&refresh=${random}`;\r\n      this.component.filters.refresh = false;\r\n    }\r\n\r\n    this.component.getInputs = str;\r\n  }\r\n\r\n  rowClick(rowClick: RowClick<SaleResponse>) {\r\n    let action = rowClick.action;\r\n    let sale = rowClick.row;\r\n\r\n    return false;\r\n  }\r\n\r\n  setGetInputsSale(refresh: boolean) {\r\n    this.component.filters.refresh = refresh;\r\n    this.formatGetInputs();\r\n  }\r\n\r\n  get getDownloadUrl() {\r\n    return `Sale?Download=True`;\r\n  }\r\n\r\n  newSale() {\r\n    this._router.navigate([\"/proceso-ventas/crear\"]);\r\n  }\r\n}\r\n","<div class=\"w-full h-full flex flex-col\">\r\n  <div class=\"px-gutter pt-1 pb-20 bg-primary flex-none\">\r\n    <div class=\"flex items-center justify-between\">\r\n      <h2\r\n        class=\"headline text-primary-contrast m-0 flex items-center w-full max-w-xxxl mr-6\"\r\n      >\r\n        <ic-icon\r\n          @scaleIn\r\n          [icon]=\"component.icSale\"\r\n          class=\"hidden sm:block mt-4\"\r\n        ></ic-icon>\r\n        <span @fadeInRight class=\"ml-4 mt-4 block\">Gestión de Ventas</span>\r\n      </h2>\r\n    </div>\r\n    <div class=\"flex space-x-10 justify-end\">\r\n      <div class=\"flex space-y-0\">\r\n        <app-filter-date-range-ymd\r\n          (rangeDate)=\"searchDateRange($event)\"\r\n          [start]=\"component.filters.startDate\"\r\n          [end]=\"component.filters.endDate\"\r\n        ></app-filter-date-range-ymd>\r\n        <app-button-reset-filters\r\n          (buttonClick)=\"resetFilters()\"\r\n        ></app-button-reset-filters>\r\n      </div>\r\n\r\n      <div class=\"hidden md:flex space-x-0\">\r\n        <app-search-box-multiple\r\n          [searchOptions]=\"component.searchOptions\"\r\n          (search)=\"search($event)\"\r\n          [currentValue]=\"component.filters.textFilter\"\r\n        ></app-search-box-multiple>\r\n        <app-export-excel\r\n          [url]=\"getDownloadUrl\"\r\n          [getInputs]=\"component.getInputs\"\r\n          [filename]=\"component.filename\"\r\n        ></app-export-excel>\r\n      </div>\r\n\r\n      <button\r\n        class=\"bg-accent text-accent-contrast\"\r\n        mat-button\r\n        (click)=\"newSale()\"\r\n      >\r\n        Nueva Venta\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"-mt-18 pt-0 overflow-hidden flex\">\r\n    <mat-drawer-container class=\"bg-transparent flex-auto flex\">\r\n      <mat-drawer-content class=\"p-gutter pt-0 flex-auto flex items-start\">\r\n        <div class=\"card h-full overflow-hidden flex-auto\">\r\n          <app-list-table\r\n            (rowClick)=\"rowClick($event)\"\r\n            [service]=\"_saleService\"\r\n            [columns]=\"component.tableColumns\"\r\n            [sortBy]=\"component.initialSort\"\r\n            [sortDir]=\"component.initialSortDir\"\r\n            [getInputs]=\"component.getInputs\"\r\n          >\r\n          </app-list-table>\r\n        </div>\r\n      </mat-drawer-content>\r\n    </mat-drawer-container>\r\n  </div>\r\n</div>\r\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { SaleListComponent } from \"./components/sale-list/sale-list.component\";\r\nimport { SaleCreateComponent } from \"./components/sale-create/sale-create.component\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: SaleListComponent,\r\n    data: {\r\n      scrollDisabled: true,\r\n      toolbarShadowEnabled: true,\r\n    },\r\n  },\r\n  {\r\n    path: \"crear\",\r\n    component: SaleCreateComponent,\r\n  },\r\n  {\r\n    path: \"crear/:saleId\",\r\n    component: SaleCreateComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SaleRoutingModule {}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { SaleRoutingModule } from \"./sale-routing.module\";\r\nimport { SaleListComponent } from \"./components/sale-list/sale-list.component\";\r\nimport { SaleCreateComponent } from \"./components/sale-create/sale-create.component\";\r\nimport { SharedModule } from \"@shared/shared.module\";\r\nimport { ListTableComponent } from \"@shared/components/reusables/list-table/list-table.component\";\r\nimport { MenuComponent } from \"@shared/components/reusables/menu/menu.component\";\r\nimport { SearchBoxMultipleComponent } from \"@shared/components/reusables/search-box-multiple/search-box-multiple.component\";\r\nimport { ExportExcelComponent } from \"@shared/components/reusables/export-excel/export-excel.component\";\r\nimport { FilterDateRangeYmdComponent } from \"@shared/components/reusables/filter-date-range-ymd/filter-date-range-ymd.component\";\r\nimport { ButtonResetFiltersComponent } from \"@shared/components/reusables/button-reset-filters/button-reset-filters.component\";\r\nimport { SelectAutocompleteComponent } from \"@shared/components/reusables/select-autocomplete/select-autocomplete.component\";\r\n\r\n@NgModule({\r\n  declarations: [SaleListComponent, SaleCreateComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SaleRoutingModule,\r\n    SharedModule,\r\n    ListTableComponent,\r\n    MenuComponent,\r\n    SearchBoxMultipleComponent,\r\n    ExportExcelComponent,\r\n    FilterDateRangeYmdComponent,\r\n    ButtonResetFiltersComponent,\r\n    SelectAutocompleteComponent,\r\n  ],\r\n})\r\nexport class SaleModule {}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { endpoint } from \"@shared/apis/endpoint\";\r\nimport { BaseResponse } from \"@shared/models/base-api-response.interface\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { environment as env } from \"src/environments/environment\";\r\nimport { ProductDetailsResponse } from \"../../purcharse/models/purcharse-response.interface\";\r\nimport { getIcon } from \"@shared/functions/helpers\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class SaleDetailService {\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  GetAll(\r\n    size: string,\r\n    sort: string,\r\n    order: string,\r\n    page: number,\r\n    getInputs: string\r\n  ): Observable<BaseResponse> {\r\n    const requestUrl = `${env.api}${\r\n      endpoint.PRODUCT_STOCK_WAREHOUSE_ID\r\n    }?records=${size}&sort=${sort}&order=${order}&numPage=${\r\n      page + 1\r\n    }${getInputs}`;\r\n\r\n    return this._http.get<BaseResponse>(requestUrl).pipe(map((resp) => this.transformProductsData(resp)));\r\n  }\r\n\r\n  private transformProductsData(response: BaseResponse) {\r\n    response.data.forEach((pro: ProductDetailsResponse) => {\r\n      pro.icAdd = getIcon('icAdd', 'Agregar producto al detalle', true);\r\n      pro.quantity = 0;\r\n      pro.totalAmount = 0;\r\n    });\r\n\r\n    return response;\r\n  }\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { endpoint } from \"@shared/apis/endpoint\";\r\nimport { BaseResponse } from \"@shared/models/base-api-response.interface\";\r\nimport { AlertService } from \"@shared/services/alert.service\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { environment as env } from \"src/environments/environment\";\r\nimport { SaleResponse } from \"../models/sale-response.interface\";\r\nimport { getIcon } from \"@shared/functions/helpers\";\r\nimport { SaleRequest } from \"../models/sale-request.interface\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class SaleService {\r\n  constructor(private _http: HttpClient, private _alertService: AlertService) {}\r\n\r\n  GetAll(\r\n    size: string,\r\n    sort: string,\r\n    order: string,\r\n    page: number,\r\n    getInputs: string\r\n  ): Observable<BaseResponse> {\r\n    const requestUrl = `${env.api}${\r\n      endpoint.LIST_SALES\r\n    }?records=${size}&sort=${sort}&order=${order}&numPage=${\r\n      page + 1\r\n    }${getInputs}`;\r\n\r\n    return this._http\r\n      .get<BaseResponse>(requestUrl)\r\n      .pipe(map((resp) => this.transformSaleData(resp)));\r\n  }\r\n\r\n  private transformSaleData(response: BaseResponse): BaseResponse {\r\n    const badgeColor: Record<string, string> = {\r\n      BOLETA: \"text-am-main-blue-dark bg-am-main-blue-light\",\r\n      FACTURA: \"text-am-new-green-dark bg-am-new-green-light\",\r\n    };\r\n\r\n    response.data.forEach((sale: SaleResponse) => {\r\n      sale.badgeColor =\r\n        badgeColor[sale.voucherDescription] || \"text-gray bg-gray-light\";\r\n      sale.icView = getIcon(\"icVisibility\", \"Ver detalle de venta\", true);\r\n      sale.icInvoice =\r\n        sale.voucherDescription === \"FACTURA\"\r\n          ? getIcon(\"icInvoice\", \"Exportar factura\", true)\r\n          : getIcon(\"icTicket\", \"Exportar boleta\", true);\r\n      sale.icCancel = getIcon(\"icCancel\", \"Anular venta\", true);\r\n    });\r\n\r\n    return response;\r\n  }\r\n\r\n  saleRegister(sale: SaleRequest): Observable<BaseResponse>\r\n  {\r\n    console.log(\"entro\");\r\n    const requestUrl = `${env.api}${endpoint.SALE_REGISTER}`;\r\n    console.log(\"requestUrl\", requestUrl);\r\n    return this._http.post<BaseResponse>(requestUrl, sale);\r\n  }\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { endpoint } from \"@shared/apis/endpoint\";\r\nimport { BaseResponse } from \"@shared/models/base-api-response.interface\";\r\nimport { SelectAutoComplete } from \"@shared/models/select-autocomplete.interface\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { environment as env } from \"src/environments/environment\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ClientSelectService {\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  listSelectClients(): Observable<SelectAutoComplete[]> {\r\n    const requestUrl = `${env.api}${endpoint.LIST_SELECT_CLIENTS}`;\r\n    return this._http.get(requestUrl).pipe(\r\n      map((resp: BaseResponse) => {\r\n        return resp.data;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { endpoint } from \"@shared/apis/endpoint\";\r\nimport { BaseResponse } from \"@shared/models/base-api-response.interface\";\r\nimport { SelectAutoComplete } from \"@shared/models/select-autocomplete.interface\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { environment as env } from \"src/environments/environment\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class VoucherDocumentTypeSelectService {\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  listSelectVoucherDocumentType(): Observable<SelectAutoComplete[]> {\r\n    const requestUrl = `${env.api}${endpoint.LIST_SELECT_VOUCHER_DOCUMENT_TYPE}`;\r\n    return this._http.get(requestUrl).pipe(\r\n      map((resp: BaseResponse) => {\r\n        return resp.data;\r\n      })\r\n    );\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}